<mat-toolbar color="primary" class="toolbar-login">
  <span>Painel PJ Leads</span>
</mat-toolbar>

<div class="login-container">
  <mat-card class="login-card" appearance="outlined">
    <mat-card-header>
      <mat-card-title>Login</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <!-- CAMPO DE E-MAIL -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>E-mail</mat-label>
          <input
            matInput
            type="email"
            id="email"
            name="email"
            required
            [(ngModel)]="model.email"
            #emailModel="ngModel" />
          <mat-error *ngIf="emailModel.invalid && emailModel.touched">
            E-mail é obrigatório.
          </mat-error>
        </mat-form-field>

        <!-- CAMPO DE SENHA -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Senha</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            id="senha"
            name="senha"
            required
            [(ngModel)]="model.senha"
            #senhaModel="ngModel" />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            type="button"
            [attr.aria-label]="'Toggle password visibility'"
            [attr.aria-pressed]="!hide">
            <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="senhaModel.invalid && senhaModel.touched">
            Senha é obrigatória.
          </mat-error>
        </mat-form-field>

        <!-- CHECKBOX “LEMBRAR DE MIM” (opcional) -->
        <mat-checkbox class="remember-me">Lembrar de mim</mat-checkbox>

        <!-- BOTÃO DE ENTRAR -->
        <button
          mat-flat-button
          color="primary"
          class="btn-full"
          [disabled]="loginForm.invalid">
          Entrar
        </button>

        <!-- MENSAGEM DE ERRO GERAL (por credencial inválida) -->
        <div *ngIf="erroMsg" class="mensagem-erro">
          <mat-icon color="warn">error</mat-icon>
          <span>{{ erroMsg }}</span>
        </div>
      </form>
    </mat-card-content>

    <mat-card-actions class="card-actions">
      <a routerLink="/auth/register">Cadastrar-se</a>
      <span class="spacer"></span>
      <a routerLink="/auth/forgot-password">Esqueci a senha</a>
    </mat-card-actions>
  </mat-card>
</div>
